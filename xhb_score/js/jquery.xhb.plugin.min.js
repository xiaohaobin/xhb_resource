"use strict";function t(e){var t={content:"Loading...",shadowColor:"rgba(0,0,0,0.3)",loadingBoxColor:"#fff",loadingPointColor:"#292961",loadingContentColor:"rebeccapurple",containerDOM:document.body};e=Object.assign({},t,e);var n=document.getElementsByTagName("head")[0],i=document.createElement("style");i.setAttribute("type","text/css"),i.innerHTML="body .loading-box-shadow-omg{width:-webkit-fill-available;height:-webkit-fill-available;background-color:#211f1f5c;position:absolute;top:0;z-index:99999999999}body .loading-box-shadow-omg .loading-box{background-color:white;border-radius:5px;position:absolute;top:50%;left:50%;width:200px;height:150px;margin-left:-100px;margin-top: -75px;}body .loading-box-shadow-omg .loading-box .loading-circle{width:80px;height:80px;background-color:transparent;position:absolute;left:50%;margin-left:-40px;top:10%;animation:init-circle 1s linear infinite}body .loading-box-shadow-omg .loading-box .loading-content{position:absolute;bottom:5%;font-weight:bold;color:rebeccapurple;width:100%;text-align:center}body .loading-box-shadow-omg .loading-box .loading-circle>div{background-color:#292961;border-radius:20px;position:absolute}@keyframes init-circle{from{transform:rotate(360deg)}to{transform:rotate(0deg)}}",n.appendChild(i),this.body=e.containerDOM;var r=this.body.getElementsByClassName("loading-box-shadow-omg")[0];if(r&&this.body.removeChild(r),"stop"!=e.type){this.nodeHtml='<div class="loading-box">',this.nodeHtml+='<div class="loading-circle"></div><div class="loading-content"></div></div>';'<div style="top: 11%;left: 30%;width: 7px; height: 7px;"></div>','<div style="top: 26%;left: 12%;width: 9px;height: 9px;"></div>','<div style="top: 48%;left: 7%;width: 9px;height: 9px;"></div>','<div style="top: 70%;left: 15%;width: 9px;height: 9px;"></div>','<div style="top: 85%;left: 33%;width: 9px;height: 9px;"></div>','<div style="top: 89%;left: 54%;width: 9px;height: 9px;"></div>','<div style="top: 80%;left: 75%;width: 9px;height: 9px;"></div>',this.pointHtml='<div style="top: 5%;left: 53%;width: 5px;height: 5px;"></div><div style="top: 11%;left: 30%;width: 7px; height: 7px;"></div><div style="top: 26%;left: 12%;width: 9px;height: 9px;"></div><div style="top: 48%;left: 7%;width: 9px;height: 9px;"></div><div style="top: 70%;left: 15%;width: 9px;height: 9px;"></div><div style="top: 85%;left: 33%;width: 9px;height: 9px;"></div><div style="top: 89%;left: 54%;width: 9px;height: 9px;"></div><div style="top: 80%;left: 75%;width: 9px;height: 9px;"></div>',this.content=e.content||"Loading...",this.shadowColor=e.shadowColor||"rgba(0,0,0,0.3)",this.loadingBoxColor=e.loadingBoxColor||"#fff",this.loadingPointColor=e.loadingPointColor||"#292961",this.loadingContentColor=e.loadingContentColor||"rebeccapurple",this.createEle()}}t.prototype.addEle=function(){this.removeEle(),this.body.appendChild(this.loading_box_shadow_omg)},t.prototype.removeEle=function(e){var t=e||this.body,n=t.getElementsByClassName("loading-box-shadow-omg")[0];return n&&t.removeChild(n),t},t.prototype.createEle=function(){this.loading_box_shadow_omg=document.createElement("div"),this.loading_box_shadow_omg.setAttribute("class","loading-box-shadow-omg"),this.loading_box_shadow_omg.style.backgroundColor=this.shadowColor,this.loading_box_shadow_omg.innerHTML=this.nodeHtml,this.loading_box=this.loading_box_shadow_omg.getElementsByClassName("loading-box")[0],this.loading_box.style.backgroundColor=this.loadingBoxColor,this.loading_circle=this.loading_box_shadow_omg.getElementsByClassName("loading-circle")[0],this.loading_circle.innerHTML=this.pointHtml,this.loading_circle_div=this.loading_circle.getElementsByTagName("div");for(var e=this.loading_circle_div.length,t=0;t<e;t++)this.loading_circle_div[t].style.backgroundColor=this.loadingPointColor;this.loading_content=this.loading_box_shadow_omg.getElementsByClassName("loading-content")[0],this.loading_content.innerText=this.content,this.loading_content.style.color=this.loadingContentColor,this.body.style.position="relative","BODY"==this.body.tagName&&(this.loading_box_shadow_omg.style.right=0,this.loading_box_shadow_omg.style.left=0,this.loading_box_shadow_omg.style.top=0,this.loading_box_shadow_omg.style.bottom=0,this.loading_box.style.position="fixed")},t.prototype.setModuleLoading=function(e){this.removeEle(e);var t=document.createElement("div");t.setAttribute("class","loading-box-shadow-omg"),t.style.backgroundColor=this.shadowColor,t.style.width="100%",t.style.height="100%",t.innerHTML=this.nodeHtml,t.getElementsByClassName("loading-box")[0].style.backgroundColor="rgba(0,0,0,0)";var n=t.getElementsByClassName("loading-circle")[0];n.innerHTML=this.pointHtml;for(var i=n.getElementsByTagName("div"),r=i.length,o=0;o<r;o++)i[o].style.backgroundColor=this.loadingPointColor;e.appendChild(t),e.style.position="relative"},function(n,i,r,o){var a=null;try{n.extend({initDiyLoading:t,getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=i.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},oGetParam:function(){var e=location.search.replace(/^\s+/,"").replace(/\s+$/,"").match(/([^?#]*)(#.*)?$/);if(!e)return{};for(var t=e[0].split("&"),n={},i=0,r=t.length;i<r;i++){var a=t[i];if((a=a.split("="))[0]){var s=decodeURIComponent(a.shift()),l=a.length>1?a.join("="):a[0];l!=o&&(l=decodeURIComponent(l)),s in n?(n[s].constructor!=Array&&(n[s]=[n[s]]),n[s].push(l)):n[s]=l}}return n},pageReLoad:function(){i.parent.parent.parent.parent?parent.parent.parent.parent.location.reload():i.parent.parent.parent?parent.parent.parent.location.reload():i.parent.parent?parent.parent.location.reload():i.parent?parent.location.reload():i.location.reload()},toNewPage:function(e){i.parent.parent.parent.parent?parent.parent.parent.parent.location.href=e:i.parent.parent.parent?parent.parent.parent.location.href=e:i.parent.parent?parent.parent.location.href=e:i.parent?parent.location.href=e:i.location.href=e},isMoblie:function(){var e=navigator.userAgent.toLowerCase(),t="ipad"==e.match(/ipad/i),n="iphone os"==e.match(/iphone os/i),i="midp"==e.match(/midp/i),r="rv:1.2.3.4"==e.match(/rv:1.2.3.4/i),o="ucweb"==e.match(/ucweb/i),a="android"==e.match(/android/i),s="windows ce"==e.match(/windows ce/i),l="windows mobile"==e.match(/windows mobile/i);return!!(t||n||i||r||o||a||s||l)},isNull:function(e){return!e&&void 0!==e&&0!=e},getExplorerInfo:function(){var e=i.navigator.userAgent.toLowerCase();return e.indexOf("msie")>=0?{type:"IE",version:e.match(/msie ([\d.]+)/)[1]}:e.indexOf("firefox")>=0?{type:"Firefox",version:e.match(/firefox\/([\d.]+)/)[1]}:e.indexOf("chrome")>=0?{type:"Chrome",version:e.match(/chrome\/([\d.]+)/)[1]}:e.indexOf("opera")>=0?{type:"Opera",version:e.match(/opera.([\d.]+)/)[1]}:e.indexOf("Safari")>=0?{type:"Safari",version:e.match(/version\/([\d.]+)/)[1]}:void 0},getDistance:function(e,t,n,i){function r(e){return e*Math.PI/180}var o=r(e),a=r(n),s=o-a,l=r(t)-r(i),c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(s/2),2)+Math.cos(o)*Math.cos(a)*Math.pow(Math.sin(l/2),2)));return Math.ceil(6378137*c)},stringToArray:function(e,t){var n=[];if(e.indexOf(t)>=0){var i,r=e.split(t),o=new Array,a=r.length;for(i=0;i<a;i++)o.push(r[i]);return o}return n.push(e),n},hasStr:function(e,t,n){var i=e,r=t;return i.length-i.indexOf(r)>i.length?-1:n?i.indexOf(r):i.lastIndexOf(r)},serializeToObj:function(e){var t={};function n(e){var n=new Array;n=e.split("=");for(var i=0;i<n.length;i++)n[i]=decodeURIComponent(n[i]);var r=n[0],o=n[1].trim();if(n.length>2)for(i=2;i<n.length;i++)o+="="+n[i].trim();if(o){var a=r.split("."),s=t;for(i=0;i<a.length-1;i++)!s[a[i]]&&(s[a[i]]={}),s=s[a[i]];s[a[i]]=o.trim()}}for(var i=e.split("&"),r=0;r<i.length;r++)n(i[r]);return t},objToKeyValue:function(e){var t="?";if(!e)return"";for(var n in e)t+=n+"="+e[n]+"&";return t.slice(0,t.length-1)},arrSort:function(e){return e.sort((function(e,t){return e<t?-1:1}))},delRepetition:function(e){return Array.prototype.unique2=function(){this.sort();for(var e=[this[0]],t=1;t<this.length;t++)this[t]!==e[e.length-1]&&e.push(this[t]);return e},e.unique2()},flattening:function(e){return Array.prototype.concat.apply([],e)},countif:function(e){return e.reduce((function(e,t){return e[t]=e[t]+1||1,e}),{})},getSameVal:function(e,t){var n,i=[],r=[];for(var o in(e=e.sort((function(e,n){return e[t]<n[t]?-1:1}))).length&&(n=e[0][t]),e)e[o][t]===n?r.push(e[o]):(n=e[o][t],i.push(r),r=[e[o]]);return i.push(r),""==i[i.length-1][0].name&&i.splice(i.length-1,1),i},debounce:function(e,t){t=t||500,a&&clearTimeout(a),a=setTimeout(e,t)},getCapital:function(e){for(var t=[],n=0;n<e;n++){var i=Math.ceil(25*Math.random());t.push(String.fromCharCode(65+i))}return t},randNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},getMousePos:function(e){var t=e||i.event,n=r.documentElement.scrollLeft||r.body.scrollLeft,o=r.documentElement.scrollTop||r.body.scrollTop;return{x:t.pageX||t.clientX+n,y:t.pageY||t.clientY+o}},getOnTime:function(e){var t=new Date,n=t.getFullYear(),i=1*t.getMonth()+1;i<10&&(i="0"+i);var r=t.getDate();r<10&&(r="0"+r);var o=t.getHours(),a=t.getMinutes(),s=t.getSeconds();switch(o<10&&(o="0"+o),a<10&&(a="0"+a),s<10&&(s="0"+s),!0){case"y-m-d"===e:return n+"-"+i+"-"+r;case"y-m"===e:return n+"-"+i;case"m-d"===e:return i+"-"+r;case"h-m-s"===e:return o+":"+a+":"+s;case"m-s"===e:return a+":"+s;case"h-m"===e:return o+":"+a;case"y"===e:return n;case"d"===e:return r;case"w"===e:return"今天是星期"+"日一二三四五六".charAt((new Date).getDay());case"ZW"===e:return n+"年"+i+"月"+r+"日  "+o+":"+a+":"+s;default:return n+"-"+i+"-"+r+" "+o+":"+a+":"+s}},backDateNum:function(e){if(e){var t=new Date(e.replace(/-/g,"/"));return Date.parse(t)/1e3}},formatDateTime:function(e){var t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var i=e.getDate();i=i<10?"0"+i:i;var r=e.getHours();r=r<10?"0"+r:r;var o=e.getMinutes();o=o<10?"0"+o:o;var a=e.getSeconds();return t+"-"+n+"-"+i+" "+r+":"+o+":"+(a=a<10?"0"+a:a)},getCurrTimestamp:function(){var e=n.formatDateTime(new Date);return n.backDateNum(e)},timestampToTime:function(e,t){function n(e){return e<=9?"0"+e:e}var i=new Date;return i.setTime(1e3*e),Date.prototype.format=function(e){var t={"M+":n(this.getMonth()+1),"d+":n(this.getDate()),"h+":n(this.getHours()),"m+":n(this.getMinutes()),"s+":n(this.getSeconds()),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};for(var i in/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return e},i.format(t||"yyyy-MM-dd h:m:s")},getWeeDay:function(e){var t=["星期天","星期一","星期二","星期三","星期四","星期五","星期六"];return e.indexOf("/")>-1?t[new Date(Date.parse(e)).getDay()]:e.indexOf("-")>-1?t[new Date(Date.parse(e.replace(/-/g,"/"))).getDay()]:void alert("日期格式不对")},incrementInitDate:0,incrementTimer:null,decrementInitDate:0,decrementTimer:null,dd_currTime:null,incrementTime:function(e,t,i,r){var a=this;n.incrementInitDate=r!=o&&r?n.backDateNum(r):n.getCurrTimestamp(),clearTimeout(n.incrementTimer),n.incrementTimer=setInterval((function(){n.incrementInitDate+=e,n.dd_currTime=n.timestampToTime(n.incrementInitDate,"yyyy-MM-dd h:m:s"),a.nIndex=n.dd_currTime.indexOf(" "),a.oDate={cTime:n.dd_currTime.slice(a.nIndex+1,n.dd_currTime.length),cDate:n.dd_currTime.slice(0,a.nIndex),cWeek:n.getWeeDay(n.dd_currTime.slice(0,a.nIndex))},i(a.oDate),a.cTime=n.dd_currTime.slice(a.nIndex,n.dd_currTime.length),a.cDate=n.dd_currTime.slice(0,a.nIndex),a.cWeek=n.getWeeDay(n.dd_currTime.slice(0,a.nIndex))}),t)},clearTimerForCrement:function(e){clearTimeout(e>0?n.incrementTimer:n.decrementTimer)},decrementTime:function(e,t,i,r){var a=this;n.decrementInitDate=r!=o&&r?n.backDateNum(r):n.getCurrTimestamp(),clearTimeout(n.decrementTimer),n.decrementTimer=setInterval((function(){n.decrementInitDate-=e,n.dd_currTime=n.timestampToTime(n.decrementInitDate,"yyyy-MM-dd h:m:s"),a.nIndex=n.dd_currTime.indexOf(" "),a.oDate={cTime:n.dd_currTime.slice(a.nIndex+1,n.dd_currTime.length),cDate:n.dd_currTime.slice(0,a.nIndex),cWeek:n.getWeeDay(n.dd_currTime.slice(0,a.nIndex))},i(a.oDate),a.cTime=n.dd_currTime.slice(a.nIndex,n.dd_currTime.length),a.cDate=n.dd_currTime.slice(0,a.nIndex),a.cWeek=n.getWeeDay(n.dd_currTime.slice(0,a.nIndex))}),t)},secondToStr:function(e){function t(e,t){var n="";t=t||2,e=String(e);for(var i=0;i<t-e.length;i++)n+="0";return n+e}if(isNaN(e))return"--:--:--";var n=parseInt(e/3600),i=parseInt(e%3600/60),r=parseInt(e%60);return t(n)+":"+t(i)+":"+t(r)},isSupportSVG:function(){return!!r.createElementNS&&!!r.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},isSupportCanvas:function(){return!!r.createElement("canvas").getContext},tenToAny:function(e,t){return e.toString(t)},AnyToTen:function(e,t){return parseInt(e,t)},_loadJs:function(e,t){t=void 0!==t?t:function(){};var n=r.getElementsByTagName("HEAD").item(0),i=r.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()},i.src=e+".js",n.appendChild(i)},_loadCss:function(e){if(!e||0===e.length)throw new Error("参数“path”是必需的!");var t=r.getElementsByTagName("head")[0],n=r.createElement("link");n.href=e+".css",n.rel="stylesheet",n.type="text/css",t.appendChild(n)},_getType:function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},_isType:function(e,t){return n._getType(e)==t},_import:function(e,t){var i;switch(t){case"js":i=n._loadJs;break;case"css":i=n._loadCss;break;default:alert("请检查文件类型")}this._is(e,"String")&&(e=e.indexOf(",")>=0?e.split(","):[e]);for(var r=0;r<e.length;r++)i(e[r])},objSerialize:function(e,t){t=t||"&";var n="";for(var i in e)n+=i+"="+e[i]+t;return n.slice(0,n.length-t.length)},strGetLength:function(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);t+=i>=0&&i<=128?1:2}return t},sortChinese:function(e){if(e.length>0)return e.sort((function(e,t){return(e+"").localeCompare(t+"")}))},changeScript:function(e,t,n){var i=r.querySelectorAll("script"),a=!0,s=!1,l=o;try{for(var c,d=i[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value;u.src.includes(t)&&u.parentNode.removeChild(u)}}catch(e){s=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw l}}r.execCommand("Refresh");var h=r.createElement("script");h.type="text/javascript",h.async=!0,h.defer=!0,h.readyState?h.onreadystatechange=function(){"loaded"!==h.readyState&&"complete"!==h.readyState||(h.onreadystatechange=null,n())}:h.onload=function(){n()},h.src=e,r.getElementsByTagName("head")[0].appendChild(h)},addScript:function(e,t){const n=r.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.src=e,r.getElementsByTagName("head")[0].appendChild(n)},getDateArr:function(e,t,i,r){if(e&&t){var o=new Date(e.replace(/-/g,"/"));i=i?60*i*1e3:18e5;var a=new Date(t.replace(/-/g,"/")).getTime(),s=o.getTime(),l=a-s;if(!(l<=i)){var c=[];if(r)for(;l-i>=i;){(d=new Date).setTime(a-i),c.push(d),l-=i,a-=i}else for(;l>=i;){var d;(d=new Date).setTime(s+i),c.push(d),l-=i,s+=i}c.reverse();for(var u=[],h=c.length-1;h>=0;h--)u.push(n.conversionTime(c[h]));return u.unshift(r?t:e),u}}else alert("时间参数缺省")},conversionTime:function(e){return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},numToLetter:function(e){var t="";if(e>0)if(e>=1&&e<=26)t=String.fromCharCode(64+parseInt(e));else{for(;e>26;){var n=parseInt(e/26),i=e%26;0==i?(i=26,n--,t=String.fromCharCode(64+parseInt(i))+t):t=String.fromCharCode(64+parseInt(i))+t,e=n}t=String.fromCharCode(64+parseInt(e))+t}return t},clearCacheFn:function(e){var t=r.cookie.match(/[^ =;]+(?=\=)/g);if(t){for(var n=t.length;n--;)r.cookie=t[n]+"=0;path=/;expires="+new Date(0).toUTCString(),r.cookie=t[n]+"=0;path=/;domain="+r.domain+";expires="+new Date(0).toUTCString(),r.cookie=t[n]+"=0;path=/;domain=kevis.com;expires="+new Date(0).toUTCString();e&&e()}},_set_cookie:function(e,t,n){var i=new Date;i.setTime(i.getTime()+1*n),r.cookie=e+"="+escape(t)+";expires="+i.toGMTString()},_get_cookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=r.cookie.match(n))?unescape(t[2]):null},_del_cookie:function(e){var t=new Date;t.setTime(t.getTime()-1);var i=n._get_cookie(e);null!=i&&(r.cookie=e+"="+i+";expires="+t.toGMTString())},getDOMTrueData:function(e){return r.querySelector(e).getBoundingClientRect()},getYesterdayDate:function(){var e=n.getOnTime("y-m-d"),t=n.backDateNum(e)-86400;return n.timestampToTime(t,"yyyy-MM-dd")},stopEventBubble:function(){i.event?i.event.cancelBubble=!0:e.stopPropagation()},getVideoImg:function(e,t){var n,i=function(){var e=r.createElement("canvas");e.width=.8*n.videoWidth,e.height=.8*n.videoHeight,e.getContext("2d").drawImage(n,0,0,e.width,e.height);var i=e.toDataURL("image/png");t&&t(i)};(n=e).addEventListener("loadeddata",i)},isLoad:!0,window_to_bottom_fn:function(e){i.addEventListener("scroll",(function(){var t=r.documentElement.clientHeight;r.documentElement.scrollHeight-t-(i.pageYOffset||r.documentElement.scrollTop||r.body.scrollTop||0)<=0&&setTimeout((function(){e&&e()}),100)}),!1)},window_to_top_fn:function(e){i.addEventListener("scroll",(function(){0===(i.pageYOffset||r.documentElement.scrollTop||r.body.scrollTop||0)&&setTimeout((function(){e&&e()}),100)}),!1)},UTC_to_CTime:function(e){var t=new Date(e).toUTCString(),i=Date.parse(new Date(t))-288e5;return n.timestampToTime(i/1e3,"yyyy-MM-dd h:m:s")},getDaysInMonth:function(e,t){return t=parseInt(t,10),new Date(e,t,0).getDate()},getPrevDays:function(e,t){if(t)var i=n.backDateNum(t);else{var r=n.getOnTime("y-m-d");i=n.backDateNum(r)}for(var o=[],a=0;a<e;a++){var s=i-86400*a,l=n.timestampToTime(s,"yyyy-MM-dd");o.push(l)}return o},getNextDays:function(e,t){if(t)var i=n.backDateNum(t);else{var r=n.getOnTime("y-m-d");i=n.backDateNum(r)}for(var o=[],a=0;a<e;a++){var s=i+86400*a,l=n.timestampToTime(s,"yyyy-MM-dd");o.push(l)}return o},getWeekName:function(e,t){switch(new Date(e).getDay()){case 1:return"en"==t?"Mon.":"星期一";case 2:return"en"==t?"Tue.":"星期二";case 3:return"en"==t?"Wed.":"星期三";case 4:return"en"==t?"Thur.":"星期四";case 5:return"en"==t?"Fri.":"星期五";case 6:return"en"==t?"Sat.":"星期六";default:return"en"==t?"Sun.":"星期日"}},resolvingDate:function(e){var t=new Date(e),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate(),r=t.getHours()<10?"0"+t.getHours():t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),a=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return t.getFullYear()+"-"+n+"-"+i+" "+r+":"+o+":"+a},addAnyTime:function(e,t,i){if("0"==e){var r=n.backDateNum(t)+86400,o=n.getOnTime("y-m-d"),a=n.backDateNum(o);return i&&r>a?o:n.timestampToTime(r,"yyyy-MM-dd")}if("1"==e){var s=n.get_string(t),l=(o=n.getOnTime("y-m"),n.get_string(o));return 12===s.last?(s.last=1,s.first++):s.last++,i&&(l.first<s.first||l.first==s.first&&l.last<s.last)?o:(s.last<10&&(s.last="0"+s.last),s.first+"-"+s.last)}if("2"==e){var c=1*n.getOnTime("y"),d=1*t+1;return d>c?c:d}},desAnyTime:function(e,t){if("0"==e){var i=n.backDateNum(t)-86400;return n.timestampToTime(i,"yyyy-MM-dd")}if("1"==e){var r=n.get_string(t);return 1===r.last?(r.last=12,r.first--):r.last--,r.last<10&&(r.last="0"+r.last),r.first+"-"+r.last}if("2"==e){var o=1*t-1;return o<0?t:o}},get_string:function(e){var t=e.indexOf("-");return{first:1*e.slice(0,t),last:1*e.slice(t+1,e.length)}},get_string2:function(e,t){var n=e.indexOf(t);return{first:1*e.slice(0,n),last:1*e.slice(n+1,e.length)}},swapArr:function(e,t,n){return e[t]=e.splice(n,1,e[t])[0],e},closeCurrPage:function(){navigator.userAgent.indexOf("MSIE")>0?navigator.userAgent.indexOf("MSIE 6.0")>0?(i.opener=null,i.close()):(i.open("","_top"),i.top.close()):(i.opener=null,i.open("","_self"),i.close())},max:function(e){return Array.prototype.max=function(){for(var e=this[0],t=this.length,n=1;n<t;n++)this[n]>e&&(e=this[n]);return e},e.max()},min:function(e){return Array.prototype.min=function(){for(var e=this[0],t=this.length,n=1;n<t;n++)this[n]<e&&(e=this[n]);return e},e.min()},time_to_Timestamp:function(e){var t=e.split(":")[0],n=e.split(":")[1],i=e.split(":")[2];return Number(3600*t)+Number(60*n)+Number(i)},Timestamp_to_time:function(e){e*=1e3;var t=parseInt(e%864e5/36e5),n=parseInt(e%36e5/6e4),i=e%6e4/1e3;return(t=t<10?"0"+t:t)+":"+(n=n<10?"0"+n:n)+":"+(i=i<10?"0"+i:i)},isUnion:function(e,t){var n=[e.start,t.start],i=[e.end,t.end];return Math.max.apply(null,n)<=Math.min.apply(null,i)},arrAddFn:function(e){return e.reduce((function(e,t){return e+t}))},arrDecFn:function(e){return e.reduce((function(e,t){return e-t}))},canvasToBase64Fn:function(e,t){return image=e.toDataURL("image/"+t),image},downBase64Img:function(e,t){var n=r.createElement("a"),o=function(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],r=i.atob(t[1]),o=r.length,a=new Uint8Array(o),s=0;s<o;++s)a[s]=r.charCodeAt(s);return new Blob([a],{type:n})}(e);r.createEvent("HTMLEvents").initEvent("click",!0,!0),n.download=t,n.href=URL.createObjectURL(o),n.click()},addFileSelect:function(e,t,n,i){e.addEventListener("click",(function(){e.innerText="上传中....";var o=r.createElement("input");o.type="file",i&&(i.multiple&&(o.multiple="multiple"),i.accept&&(o.accept=i.accept)),o.click(),o.addEventListener("change",(function(){console.log("change"),console.log(o.files,"change"),t&&t(o.files)})),e.addEventListener("focus",(function(){console.log(o.value);var e=0;!function t(){""!==o.value||(++e>=10?null==n||n(o.files):setTimeout(t,20))}()}),{once:!0})}))},del_arr_child:function(e,t){for(var n=e.length;n--;)n<t&&e.splice(n,1);return e},getDaySortByDate:function(e){var t,n,i;t=1*e.slice(0,4),n=1*e.slice(5,7),i=1*e.slice(8,10);for(var r=0,o=new Array(31,28,31,30,31,30,31,31,30,31,30,31),a=0;a<n-1;a++)r+=o[a];return(t%400==0||t%4==0&&t%100!=0)&&n>2?r=r+i+1:r+=i,r},toThNum:function(e){var t=[],n=0,i=(e=(e||0).toString().split("")).indexOf("."),r="";i>=0&&(r=e.slice(i).join(""),e=e.slice(0,i));for(var o=e.length-1;o>=0;o--)n++,t.unshift(e[o]),n%3||0==o||t.unshift(",");return t.join("")+r},checkIsDate:function(e,t,n){if(!(t>=1&&t<=12))return{txt:"月份不对",status:!1};switch(t){case 1:case 3:case 5:case 7:case 8:case 10:case 12:if(!(n>=1&&n<=31))return{txt:"日期不对",status:!1};break;case 4:case 6:case 9:case 11:if(!(n>=1&&n<=30))return{txt:"日期不对",status:!1};break;case 2:if((i=e)%4==0&&i%100!=0||i%400==0){if(!(n>=1&&n<=29))return{txt:"日期不对",status:!1}}else if(!(n>=1&&n<=28))return{txt:"日期不对",status:!1}}var i;return{txt:"",status:!0}},getDayNumByYM:function(e){var t=1*e.slice(0,4),n=1*e.slice(5);return[1,3,5,7,8,10,12].includes(n)?31:[4,6,9,11].includes(n)?30:function(e){return e%4==0&&e%100!=0||e%400==0}(t)?29:28},getNumListByDate:function(e){var t=1*e.slice(0,4),n=(new Date).getFullYear(),i=[];if(7===e.length||n>t){10===e.length&&(e=e.slice(0,7));for(var r=this.getDayNumByYM(e),o=0;o<r;o++)i.push(o+1);return i}if(10===e.length){var a=1*e.slice(8);for(o=0;o<a;o++)i.push(o+1);return i}return!1},insidePolygon:function(e,t){for(var n=t[0],i=t[1],r=!1,o=0,a=e.length-1;o<e.length;a=o++){var s=e[o][0],l=e[o][1],c=e[a][0],d=e[a][1];l>i!=d>i&&n<(c-s)*(i-l)/(d-l)+s&&(r=!r)}return r},pointInsideCircle:function(e,t,n){if(0===n)return!1;var i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r<=n*n},objExtend:function(e,t){return Object.assign({},e,t)},arrSortByObjProp:function(e,t,n){return e.sort((i=t,function(e,t){var r=e[i],o=t[i];return n?o-r:r-o}));var i},curriedFn:function(e){return function t(...n){return n.length>=e.length?e.call(null,...n):function(...e){return t.apply(null,[...n,...e])}}}}),n.fn.toTop=function(e){var t=n.extend({},{event:"click",position:["left","bottom"],offset:["10px","10px"],txt:"置顶",zIndex:1e3},e),i=n(this);if(i.on(t.event,(function(){n("html,body").animate({scrollTop:"0px"},800)})),i.css({position:"fixed",zIndex:t.zIndex}),2==t.position.length&&2==t.offset.length)for(var r=0;r<t.position.length;r++)"right"==t.position[r]&&"bottom"==t.position[r+1]&&i.css({right:t.offset[0],bottom:t.offset[1]}),"right"==t.position[r]&&"top"==t.position[r+1]&&i.css({right:t.offset[0],top:t.offset[1]}),"left"==t.position[r]&&"top"==t.position[r+1]?i.css({left:t.offset[0],top:t.offset[1]}):i.css({left:t.offset[0],bottom:t.offset[1]});i.text(t.txt)},n.fn.toBottom=function(e){var t=n.extend({},{event:"click",position:["right","top"],offset:["10px","10px"],txt:"置底",zIndex:1e3},e),i=n(this);if(i.on(t.event,(function(){n("html,body").animate({scrollTop:r.body.clientHeight+"px"},800)})),i.css({position:"fixed",zIndex:t.zIndex}),2==t.position.length&&2==t.offset.length)for(var o=0;o<t.position.length;o++)"left"==t.position[o]&&"bottom"==t.position[o+1]&&i.css({left:t.offset[0],bottom:t.offset[1]}),"right"==t.position[o]&&"bottom"==t.position[o+1]&&i.css({right:t.offset[0],bottom:t.offset[1]}),"left"==t.position[o]&&"top"==t.position[o+1]?i.css({left:t.offset[0],top:t.offset[1]}):i.css({right:t.offset[0],top:t.offset[1]});i.text(t.txt)},n.fn.rate=function(e){for(var t=n.extend({},{star:1,edit:!1},e),i=n(this),r=t.star>5?5:t.star,o="★★★★★☆☆☆☆☆".slice(5-r,10-r).split(""),a="",s=0;s<o.length;s++)a+='<b data="'+o[s].charCodeAt(0)+'">'+o[s]+"</b>";i.html(a),t.edit&&(i.css("cursor","pointer"),i.children().on("click",(function(){if(console.log(n(this).attr("data"),n(this).index()),"9733"==n(this).attr("data"))return n(this).attr("data","9734").text(String.fromCharCode(9734)),n(this).prevAll().attr("data","9733").text(String.fromCharCode(9733)),n(this).nextAll().attr("data","9734").text(String.fromCharCode(9734)),!1;"9734"==n(this).attr("data")&&(n(this).attr("data","9733").text(String.fromCharCode(9733)),n(this).prevAll().attr("data","9733").text(String.fromCharCode(9733)))})))},n.fn.fileVaild=function(e){var t=n(this),i=n.extend({},{event:"change",size:1,onlyImage:!1,width:200,height:300,isLimitSize:!1,previewObj:null},e);if(i.onlyImage){n(".Limit_that").remove();var r='<div class="Limit_that"><span style="color: red;">温馨提示:图片上传的大小最大为'+i.size+"M，像素要求最小尺寸为"+i.width+"*"+i.height+",且图片宽高比例为"+i.width+":"+i.height+"</span></div>";i.previewObj?i.previewObj.after(n(r)):t.after(n(r))}t.on(i.event,(function(){var e=this.files[0];if(i.onlyImage&&!/image\/\w+/.test(e.type))return alert("上传的不是图片"),n(this).val(""),!1;if(e.size>1024*i.size*1024)return alert("上传的文件大于"+i.size+"M,请重新选择!"),n(this).val(""),!1;if(/image\/\w+/.test(e.type)){i.previewObj&&i.previewObj.find(".xhbPreviewImg").remove();var r=n('<img class="xhbPreviewImg" style="width: 100%;height: 100%;"/>'),o=new FileReader;o.onload=function(e){function n(e){if(i.onlyImage&&i.isLimitSize){if(1*e.naturalWidth<i.width||1*e.naturalHeight<i.height)return alert("上传的图片像素最小必须是:"+i.width+"*"+i.height),t.val(""),i.previewObj&&i.previewObj.find(".xhbPreviewImg").remove(),!1;i.width/i.height!=1*e.naturalWidth/(1*e.naturalHeight)&&(alert("上传的图片像素宽高比例必须是:"+i.width+":"+i.height),t.val(""),i.previewObj&&i.previewObj.find(".xhbPreviewImg").remove())}}i.previewObj?(r.attr("src",e.target.result),i.previewObj.append(r),i.previewObj.find(".xhbPreviewImg").load((function(){n(this)}))):n(this)},o.readAsDataURL(e)}}))},n.fn.textareaVaild=function(e){var t=n(this),i=n.extend({},{event:"keyup",maxLength:300,width:540,height:170},e),r=n('<div class="textarea-numberbar"><em class="textarea-length">0</em>/'+i.maxLength+"</div>").css({position:"absolute",bottom:"1%",padding:0,margin:0});t.after(r),t.on(i.event,(function(){var e=n(this).val();e.length>i.maxLength&&(e=e.substring(0,i.maxLength),n(this).val(e)),n(this).parent().find(".textarea-length").text(e.length),n(".textarea-numberbar").css({left:i.width-n(".textarea-numberbar").width()+"px"})})).attr("dragonfly",!0).css({width:i.width+"px",height:i.height+"px"}),t.parent().css({position:"relative"}),n(".textarea-numberbar").css({left:i.width-n(".textarea-numberbar").width()+"px"})},n.fn.countDown=function(e){var t=n(this),i=t.text(),r=n.extend({},{second:60,phone:null,succCallback:function(){},failCallback:function(){}},e),o=/^[1][3,4,5,7,8][0-9]{9}$/,a=r.second,s=null;t.on("click",(function(){var e=this;function n(){t.attr("disabled",!0),s=setInterval((function(){--a<=0?("INPUT"==e.tagName?t.val(i):"BUTTON"==e.tagName&&t.text(i),clearInterval(s),t.attr("disabled",!1),a=r.second):("INPUT"==e.tagName?t.val(a+"秒后重试"):"BUTTON"==e.tagName&&t.text(a+"秒后重试"),t.attr("disabled",!0))}),1e3)}r.phone?o.test(r.phone.val())?(r.succCallback(),n()):r.failCallback():n()}))},n.fn.T_or_B=function(e){var t=n(this),i={toTop:function(){console.log("mousewheel top")},toDown:function(){console.log("mousewheel bottom")}},r=n.extend({},i,e);t.on("mousewheel DOMMouseScroll",(function(e){var t=e.originalEvent.wheelDelta&&(e.originalEvent.wheelDelta>0?1:-1)||e.originalEvent.detail&&(e.originalEvent.detail>0?-1:1);t>0?r.toTop():t<0&&r.toDown()}))},n.fn.checkVerify=function(e){var t=n.extend({},{event:"keyup",paste:!1,valueToNull:!0},e),i=n(this),r=/^[\u4E00-\u9FA5a-zA-Z0-9]{0,}$/;i.on(t.event,(function(){var e=n(this);n.debounce((function(){r.test(e.val())||(t.valueToNull?(alert("不能输入特殊字符"),i.val("")):i.val(function(e){for(var t="",n=0;n<e.length;n++)r.test(e[n])&&(t+=e[n]);return t}(e.val())),i.focus())}),500)})).on("paste",(function(){return t.paste}))},n.fn.textOverflow_moreRow=function(e){var t=n.extend({},{rowCount:"3"},e),i=n(this);n("#moreOverflow_style")&&n("#moreOverflow_style").remove();var r={overflow:"hidden","-webkit-box-orient":"vertical","-webkit-line-clamp":t.rowCount,position:"relative",cursor:"pointer"};i.css(r).on("mouseover",(function(e){var t=e.target,i=(n(t).width(),t.scrollWidth,n(t).html());n(t).attr("title",i)})).addClass("moreOverflow");n("head").append(n('<style type="text/css" id="moreOverflow_style">.moreOverflow{display: -webkit-box;}.moreOverflow::after{content: "........................"; position: absolute; bottom: 0; right: 0;}</style>'))},n.fn.onlyNumAndFlo=function(e){n(this).on("blur",(function(){var e=this;""!=e.value&&(/^\d+(?=\.{0,1}\d+$|$)/.test(e.value)||(alert("请输入正确的数字"),e.value="",e.focus()))})),n(this).on("keyup",(function(){this.value=this.value.replace(/[^0-9.]/g,"")}))},n.fn.textOverflow=function(e){n(this).css({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",verticalAlign:"bottom"}).on("mouseover",(function(e){var t=e.target,i=n(t).width(),r=t.scrollWidth,o=n(t).html();r>i?n(t).attr("title",o):n(t).removeAttr("title")}))},n.fn.bankInput=function(e){var t=n.extend({},{min:10,max:25,deimiter:" ",onlyNumber:!0,copy:!1,paste:!1,cut:!1},e),i=n(this);i.css({imeMode:"Disabled",borderWidth:"1px",color:"#000",fontFamly:"Times New Roman"}).attr("maxlength",t.max),""!=i.val()&&i.val(i.val().replace(/\s/g,"").replace(/(\d{4})(?=\d)/g,"$1"+t.deimiter)),i.on("keyup",(function(e){t.onlyNumber&&(e.keyCode>=48&&e.keyCode<=57||(this.value=this.value.replace(/\D/g,""))),this.value=this.value.replace(/\s/g,"").replace(/(\d{4})(?=\d)/g,"$1"+t.deimiter)})).on("dragenter",(function(){return!1})).on("paste",(function(){return console.log("粘贴类型："+t.paste),t.paste})).on("copy",(function(){return console.log("复制类型："+t.copy),t.copy})).on("cut",(function(){return console.log("剪切类型："+t.cut),t.cut})).on("blur",(function(){this.value=this.value.replace(/\s/g,"").replace(/(\d{4})(?=\d)/g,"$1"+t.deimiter),this.value.length<t.min&&(alert("最少输入"+t.min+"位账号信息！"),i.val(""))}))},n.fn.bankList=function(e){var t=n.extend({},{deimiter:" "},e);return this.each((function(){n(this).text(n(this).text().replace(/\s/g,"").replace(/(\d{4})(?=\d)/g,"$1"+t.deimiter))}))},n.fn.checkChinese=function(e){var t=n.extend({},{event:"keyup",paste:!1},e),i=n(this);i.on(t.event,(function(){n.debounce((function(){new RegExp("[\\u4E00-\\u9FFF]+","g").test(i.val())&&(alert("不能输入汉字！"),i.val(""),i.focus())}),500)})).on("paste",(function(){return t.paste}))},n.fn.numToRun=function(e){var t=n.extend({},{min:0,max:10,speed:100},e),i=n(this),r=setInterval((function(){t.min++,t.min>=t.max?(i.text(t.max),clearInterval(r)):i.text(~~t.min)}),t.speed)}}catch(e){console.error("报错类型："+e)}}(jQuery,window,document);
